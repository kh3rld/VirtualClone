<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}My App{% endblock %}</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/bot.js') }}"></script>

    <!-- <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Language dropdown change
        document
          .getElementById("language-select")
          .addEventListener("change", function () {
            $.ajax({
              url: "/",
              type: "POST",
              data: {
                language: this.value,
              },
              success: function (response) {
                //document.getElementById('selected-language-display').innerText = 'You selected: ' + response.selected_language;
              },
              error: function () {
                alert("Error selecting language!");
              },
            });
          });

        // QA form submit
        document
          .getElementById("qa-form")
          .addEventListener("submit", function (event) {
            event.preventDefault();
            const inputVal = document.querySelector(
              "input[name='user_input']"
            ).value;

            fetch("/", {
              method: "POST",
              headers: {
                "Content-Type": "application/x-www-form-urlencoded",
              },
              body: new URLSearchParams({
                user_input: inputVal,
              }),
            })
              .then((response) => response.json())
              .then((data) => {
                const user_message =
                  "<li><strong>You:</strong> " + data.user_input + "</li>";
                const bot_message =
                  "<li><strong>Bot:</strong> " + data.answer + "</li><br>";

                document
                  .querySelector("ul")
                  .insertAdjacentHTML("beforeend", user_message + bot_message);
                document.querySelector("input[name='user_input']").value = "";

                // Auto-scroll to bottom
                document.getElementById("chat-container").scrollTop =
                  document.getElementById("chat-container").scrollHeight;
              })
              .catch(() => {
                alert("Error submitting input!");
              });
          });
      });
    </script> -->
  </head>
  <body>
    <header>
      <nav
        style="
          display: flex;
          justify-content: center;
          gap: 40px;
          background-color: #3498db;
          padding: 15px;
        "
      >
        <a
          href="{{ url_for('main.index') }}"
          style="color: white; text-decoration: none; font-weight: bold"
          >🏠 Home</a
        >
        <a
          href="{{ url_for('upload.upload') }}"
          style="color: white; text-decoration: none; font-weight: bold"
          >📁 Upload File</a
        >
      </nav>
    </header>

    <main style="margin-top: 30px">{% block content %} {% endblock %}</main>

    <footer
      style="text-align: center; margin-top: 60px; font-size: 14px; color: #999"
    >
      &copy; 2025 VirtualClone
    </footer>
  </body>
</html>
